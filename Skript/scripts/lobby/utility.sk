
# ì¶”ì²œ ëª…ë ¹ì–´

command /ì¶”ì²œ:
    trigger:
        send "<url:https://minelist.kr/servers/16577-jinyoon.kr>&fë§ì€ &a&në§ˆì¸ë¦¬ìŠ¤íŠ¸ ì¶”ì²œ&f ë¶€íƒí•´ìš”!<reset>" to player 

# ê·¸ë¦°ë€ë“œìŠ¤í°

function spawn(p:player):
    # if {UJ.location::%uuid of {_p}%} is true:
    #     send "&cíŠœí† ë¦¬ì–¼ ì¤‘ì—ëŠ” ì´ë™í•  ìˆ˜ ì—†ì–´ìš”." to {_p}
    #     stop
    set {UJ.location::%uuid of {_p}%} to location of {_p}
    teleport {_p} to location(-5119.5, 68, -17407.5, world "overworld", 90, 0)

command /ìŠ¤í°:
    trigger:
        spawn(player)

command /spawn:
    trigger:
        spawn(player)
        
# ëŒì•„ê°€ê¸°

function back(p:player):
    # if {UJ.location::%uuid of {_p}%} is true:
    #     send "&cíŠœí† ë¦¬ì–¼ ì¤‘ì—ëŠ” ì´ë™í•  ìˆ˜ ì—†ì–´ìš”." to {_p}
    #     stop
    if {UJ.location::%uuid of {_p}%} exists:
        teleport {_p} to {UJ.location.%uuid of {_p}%}
        clear {UJ.location.%uuid of {_p}%}
    else:
        send "&cëŒì•„ê°€ê¸° ê¸°ëŠ¥ì€ ì„œë²„ ìŠ¤í°ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•´ìš”!" to {_p}        

command /ëŒì•„ê°€ê¸°:
    trigger:
        back(player)

command /back:
    trigger:
        back(player)

# íŠœí† ë¦¬ì–¼

function tutorial(p: player):
    set {UJ.location::%uuid of {_p}%} to location of {_p}
    # set {UJ.location::%uuid of {_p}%} to true
    teleport {_p} to location(-5102.5, -2, -17407.5, world "overworld", 90, 0)

command /íŠœí† ë¦¬ì–¼:
    trigger:
        tutorial(player)

command /tutorial:
    trigger:
        tutorial(player)

# ìŠ¤í°í…œ

on first join:
    send "&b&lUJ Earth&fì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!" and "í˜‘ë ¥í•˜ê±°ë‚˜ ì„œë¡œ ì „ìŸí•˜ë©° ìì‹ ë§Œì˜ ì„¸ê³„ë¥¼ ê¾¸ë ¤ë‚˜ê°€ë³´ì„¸ìš”!" to player
    tutorial(player)
    spawnItem(player)
    # give 32 of steak to player
    

# ì„ì‹œëª…ë ¹ì–´
command /ìŠ¤í°í…œ:
    trigger:
        if {UJ.spawnItem::%uuid of player%} isn't set:
            spawnItem(player)
            set {UJ.spawnItem::%uuid of player%} to true
        else:
            send "&cìŠ¤í° ì•„ì´í…œì€ í•œ ë²ˆë§Œ ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤." to player

function spawnItem(p: player):
    send "ê°„ë‹¨í•œ &e&lìŠ¤í° ì•„ì´í…œ&fì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤." to {_p}
    equip {_p} with leather helmet named "&b&lì—¬í–‰ìì˜ ëª¨ì" with lore "&7ëì—†ëŠ” ì—¬ì •ì„ í•¨ê»˜í•  ë“ ë“ í•œ ë™ë°˜ì." and "&7í–‡ì‚´ê³¼ ë°”ëŒìœ¼ë¡œë¶€í„° ë‹¹ì‹ ì„ ì§€ì¼œì¤ë‹ˆë‹¤."
    dye {_p}'s helmet cyan
    equip {_p} with leather chestplate named "&b&lê°œì²™ìì˜ ìƒì˜" with lore "&7í—˜í•œ ê¸¸ì—ì„œë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ëª¨í—˜ê°€ì˜ ìƒì§•."
    dye {_p}'s chestplate cyan
    equip {_p} with leather leggings named "&b&lëª¨í—˜ê°€ì˜ ë°”ì§€" with lore "&7ë¹„ë°”ëŒì—ë„ ê¿‹ê¿‹í–ˆë˜ íŠ¼íŠ¼í•œ ë°”ì§€."
    dye {_p}'s leggings cyan
    equip {_p} with leather boots named "&b&lìˆ²ê¸¸ì˜ ë¶€ì¸ " with lore "&7ëŒ€ì§€ì™€ ë°”ëŒì´ ë‹¹ì‹ ì˜ ë°œê±¸ìŒì„ ì¸ë„í•œë‹¤."
    dye {_p}'s boots cyan
    give 32 of cooked beef to {_p}
    give 64 of dirt to {_p}
    give 16 of oak log to {_p}
    give 1 of stone shovel to {_p}
    give 1 of iron pickaxe to {_p}
    give 1 of iron sword to {_p}
    give 1 of stone axe to {_p}

# Shift + F ë‹¨ì¶•í‚¤ì™€ menu
# ë¦¬ì†ŒìŠ¤íŒ© ì ìš©í•œ ë©”ë‰´

function menu(p: player):
    
    open chest inventory with 6 rows named "&fà¨”à§¡" to {_p}
    set slot (9, 10, 11, 18, 19, 20) of {_p}'s current inventory to structure void named "&a&lìŠ¤í°" with lore "&fã…£ì¥ì†Œë¥¼ ì´ë™í•©ë‹ˆë‹¤."
    set slot (27, 28, 29, 36, 37, 38) of {_p}'s current inventory to structure void named "&b&lìƒì " with lore "&fã…£ìƒì  ì°½ì„ ë„ì›ë‹ˆë‹¤."
    set slot (12, 13, 14, 21, 22, 23) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"
    set slot (30, 31, 32, 39, 40, 41) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"
    set slot (15, 16, 17, 24, 25, 26) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"
    set slot (33, 34, 35, 42, 43, 44) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"

    set slot 8 of {_p}'s current inventory to structure void named "&c&lë‚˜ê°€ê¸°" with lore "&fã…£ë©”ë‰´ë¥¼ ë•ë‹ˆë‹¤."
    
    set slot 45 of {_p}'s current inventory to structure void named "&a&lë§ˆì¸ë¦¬ìŠ¤íŠ¸ ì¶”ì²œí•˜ê¸°" with lore "&fã…£ì„œë²„ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì¶”ì²œì„ ë¨¹ê³  ì‚½ë‹ˆë‹¤."
    set slot 46 of {_p}'s current inventory to structure void named "&9&lë””ìŠ¤ì½”ë“œ ì„œë²„ë¡œ ì´ë™í•˜ê¸°" with lore "&fã…£UJ EARTHì˜ ë””ìŠ¤ì½”ë“œ ì„œë²„ë¡œ ì—°ê²°í•´ë“œë¦½ë‹ˆë‹¤."
    set slot 47 of {_p}'s current inventory to structure void named "&c&lìœ íŠœë¸Œ ì±„ë„ë¡œ ì´ë™í•˜ê¸°" with lore "&fã…£ìœ íŠœë¸Œ ì±„ë„ì„ ì—°ê²°í•´ë“œë¦½ë‹ˆë‹¤." and "&fìŠ¤íŠ¸ë¦¬ë°, ì´ë²¤íŠ¸ ë“±ì— ì‚¬ìš©í•©ë‹ˆë‹¤."

    set slot 51 of {_p}'s current inventory to book named "&a&lì¼ì¼í€˜ìŠ¤íŠ¸ í™•ì¸" with lore "&fã…£ì˜¤ëŠ˜ì˜ í•  ì¼ì„ ì•Œë ¤ë“œë¦´ê²Œìš”!"

function spawnMenu(p: player):
    
    open chest inventory with 6 rows named "&fà¨”Ö" to {_p}
    
    set slot 8 of {_p}'s current inventory to structure void named "&c&lë‚˜ê°€ê¸°" with lore "&fã…£ë©”ë‰´ë¥¼ ë•ë‹ˆë‹¤."
    
    set slot (9, 10, 11, 18, 19, 20) of {_p}'s current inventory to structure void named "&c&lêµ­ê°€ ìŠ¤í°" with lore "&fã…£êµ­ê°€ì˜ ìŠ¤í°ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤."
    set slot (27, 28, 29, 36, 37, 38) of {_p}'s current inventory to structure void named "&6&lë§ˆì„ ìŠ¤í°" with lore "&fã…£ë§ˆì„ì˜ ìŠ¤í°ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤."
    set slot (12, 13, 14, 21, 22, 23) of {_p}'s current inventory to structure void named "&b&lì„œë²„ ìŠ¤í°" with lore "&fã…£ì„œë²„ì˜ ìŠ¤í°ì¸ ê·¸ë¦°ë€ë“œë¡œ ì´ë™í•©ë‹ˆë‹¤."
    set slot (30, 31, 32, 39, 40, 41) of {_p}'s current inventory to structure void named "&a&lëœë¤ ìŠ¤í°" with lore "&fã…£ì„œë²„ì˜ ëœë¤í•œ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤."
    set slot (15, 16, 17, 24, 25, 26) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"
    set slot (33, 34, 35, 42, 43, 44) of {_p}'s current inventory to structure void named "&7&lğŸ”’ ???" with lore "&fã…£???"

command /ë©”ë‰´:
    trigger:
        menu(player)

on inventory click:
    stop if event-inventory is player's inventory
    if name of top inventory of player is "&lê²Œì„ ë©”ë‰´":

        cancel event
        close player's inventory if (10, 11, 12, 13, 14, 15) contains index of clicked slot
        execute player command "/n spawn" if index of clicked slot is 10 # êµ­ê°€ ìŠ¤í°
        execute player command "/t spawn" if index of clicked slot is 11 # ë§ˆì„ ìŠ¤í°
        execute player command "/shop" if index of clicked slot is 12 # ìƒì 
        execute player command "/ì¶”ì²œ" if index of clicked slot is 13 # ì¶”ì²œ
        execute player command "/rmove %player%" if index of clicked slot is 14 # ëœë¤ìŠ¤í°
        execute player command "/dq" if index of clicked slot is 15 # ì¼í€˜


    if name of top inventory of player is "&fà¨”Ö":

        cancel event

        if index of clicked slot is 8: # ë‚˜ê°€ê¸°
            close player's inventory
            stop
            
        if (9, 10, 11, 18, 19, 20) contains index of clicked slot: # êµ­ê°€ ìŠ¤í°
            close player's inventory
            execute player command "/n spawn"
            clear {UJ.location.%player%}
            stop

        if (27, 28, 29, 36, 37, 38) contains index of clicked slot: # ë§ˆì„ ìŠ¤í°
            close player's inventory
            execute player command "/t spawn"
            clear {UJ.location.%player%}
            stop

        if (12, 13, 14, 21, 22, 23) contains index of clicked slot: # ì„œë²„ ìŠ¤í°
            close player's inventory
            execute player command "/ìŠ¤í°"
            stop
            
        if (30, 31, 32, 39, 40, 41) contains index of clicked slot: # ëœë¤ ìŠ¤í°
            close player's inventory
            execute player command "/rmove %player%"
            clear {UJ.location.%player%}
            stop
    
    if name of top inventory of player is "&fà¨”à§¡":

        cancel event

        if index of clicked slot is 8: # ë‚˜ê°€ê¸°
            close player's inventory
            stop

        if (9, 10, 11, 18, 19, 20) contains index of clicked slot: # ìŠ¤í°
            close player's inventory
            spawnMenu(player)
            stop

        if (27, 28, 29, 36, 37, 38) contains index of clicked slot: # ìƒì 
            close player's inventory
            execute player command "/shop"
            stop

        if index of clicked slot is 45: # ì¶”ì²œ
            close player's inventory
            execute player command "/ì¶”ì²œ"
            stop

        if index of clicked slot is 46: # ë””ìŠ¤ì½”ë“œ
            close player's inventory
            send "<url:https://discord.gg/Zs4b9Rqbev>&fì„œë²„ ì „ìš© &9&në””ìŠ¤ì½”ë“œ ë§í¬&fì…ë‹ˆë‹¤.<reset>" to player
            stop

        if index of clicked slot is 47: # ìœ íŠœë¸Œ
            close player's inventory
            send "<url:https://www.youtube.com/@StudioUJ>&fì„œë²„ì˜ &c&nìœ íŠœë¸Œ ì±„ë„ ë§í¬&fì…ë‹ˆë‹¤.<reset>" to player
            stop

        if index of clicked slot is 51: # ì¼í€˜
            close player's inventory
            execute player command "/dq"
            stop